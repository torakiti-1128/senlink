# 要件定義書：SenLink（センリンク）

本書はプロジェクト憲章（`docs\01_PLAN\PROJECT_CHARTER.md`）を前提とし、SenLink が満たすべき機能要件／非機能要件を定義する。

## 1. 前提／範囲

- 対象組織：筆者が卒業した専門学校
- 対象ユーザ：
  - 学生
  - 教員
  - 管理者（管理者権限を持った教員）
- 本バージョンでは「就職活動に関する情報一元管理」と「進捗／タスク管理」を主対象とし、
  他システム（学生情報DB／成績管理等）との連携は範囲外とする。

※本資料における「求人」とは、企業説明会／インターンシップ／採用試験を含む総称とする。

## 2. 目的（要約）

- 学生の求人機会の見逃しを低減し、適切な求人選択を支援する。
- 教員の事務負担（進捗確認／集計／催促）を削減し、キャリア相談に集中できるようにする。
- 学生が就職活動タスクを把握／管理できるよう支援する。
- 指導履歴を蓄積し、教員間でナレッジ共有できる状態をつくる。

## 3. 機能要件

### 3.1 共通機能（F-01-XX）
すべてのユーザロールが利用する、認証および基盤機能。

| 機能ID | 機能名 | 説明 |
| :--- | :--- | :--- |
| **F-01-01** | **認証管理** | ログイン、アカウント新規登録、OTP（ワンタイムパスワード）認証、パスワード再設定。 |
| **F-01-02** | **初回設定** | 初回ログイン時のロール判定と、不足している初期プロフィールの登録強制。 |
| **F-01-03** | **通知管理** | 申請結果、督促タスク、システム告知の送受信／既読管理。 |

### 3.2 学生向け機能（F-02-XX）
学生の就職活動を支援する機能。

| 機能ID | 機能名 | 説明 |
| :--- | :--- | :--- |
| **F-02-01** | **求人支援** | 求人の検索／閲覧、お気に入り登録および応募操作。 |
| **F-02-02** | **活動支援** | 応募に紐づく選考タスクの自動生成、進捗更新、活動サマリの確認。 |
| **F-02-03** | **申請支援** | 書類添削、面談予約、内定報告の申請および教員とのフィードバック授受。 |
| **F-02-04** | **学生プロフィール管理** | 氏名等の基本情報に加え、自己PR、希望職種等の編集と就活ステータスの更新。 |

### 3.3 教員向け機能（F-03-XX）
教員が担当学生の状況を確認し、適切なタイミングで支援を行うための機能。

| 機能ID | 機能名 | 説明 |
| :--- | :--- | :--- |
| **F-03-01** | **教員ダッシュボード** | クラス全体の内定率把握および「支援が必要な学生」の自動抽出とアラート表示。 |
| **F-03-02** | **学生管理** | 学生個別の活動ログ、応募履歴、ToDoの進捗状況の詳細閲覧。 |
| **F-03-03** | **申請管理** | 学生からの各種申請に対する承認／却下／コメント／予約確定操作。 |
| **F-03-04** | **求人管理** | 企業情報の登録／更新、および特定学生へのレコメンド（おすすめ）送信。 |
| **F-03-05** | **教員プロフィール管理** | 学生側に公開される自身の専門分野やオフィス等の情報管理。 |

### 3.4 管理者向け機能（F-04-XX）
データの管理、稼働監視を行う機能。

| 機能ID | 機能名 | 説明 |
| :--- | :--- | :--- |
| **F-04-01** | **権限管理** | 教員アカウントの発行、および管理者権限の付与／剥奪。 |
| **F-04-02** | **クラス管理** | 年度ごとの学科／クラス作成、クラス情報の閲覧。 |
| **F-04-03** | **マスタデータ管理** | 職種勤務地、学科等、システム全体で利用するマスタデータの管理。 |
| **F-04-04** | **設定管理** | システム全体の定数（例：セッション、パスワードポリシー、予約配信設定）の変更、配信。 |
| **F-04-05** | **システム監視** | APIパフォーマンス、エラーログ、DB負荷状況のムモニタリング。 |

## 4. 非機能要件（抜粋）

### 4.1 品質
- テストカバレッジ 80%以上（行カバレッジ）。  
- 関数単位の循環的複雑度 10 以下を目安とする。  
- 静的解析（Lint / Formatter / 型チェック）エラーゼロを CI で担保する。

### 4.2 運用／保守
- Docker により、ローカル／検証環境／本番環境の構成差異を最小化する。
- ソースコード管理は GitHub を使用し、すべての変更は Pull Request 経由とする。
- Pull Request は必ず GitHub Issues と紐づける。

### 4.3 性能／スケーラビリティ
- 読み取り系APIのレスポンスタイムは、通常時 P95 で 200ms 以内を目安とする。
- 将来的な学生数／求人数の増加に耐えられるよう、DB 設計は N+1 クエリおよびフルテーブルスキャンを避けること（`EXPLAIN` により検証）。

### 4.4 セキュリティ
- 学内プライベートIPアドレス以外からアクセスできない
  - PC（学内イーサネット／無線LAN）
  - スマホ（学内無線LAN）
  - ※将来VPN対応できるように、許可IP帯は柔軟に変更できるようにする
- 学生／教員の区別を行い、閲覧可能な情報を適切に制限する（権限モデルの詳細は設計フェーズで定義）。
- パスワード等の機密情報は平文で保存しない。
- アカウント登録ではワンタイムパスワード認証方式を用いる。
- セッション管理機能を実装する。

## 5. 対象外（非スコープ）

- 企業側のログイン画面および求人登録機能（現時点では学校側が求人情報を登録する前提）。
- 他学内システム（成績管理／学生管理DB等）との連携。
- 既存チャットツール（Teams 等）との双方向連携。