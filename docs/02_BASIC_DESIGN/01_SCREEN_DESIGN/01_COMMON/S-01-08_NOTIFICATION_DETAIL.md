# S-01-08 通知詳細

## 1. 概要
- 対象ロール：ALL（ログイン済み前提）
- 目的：自分宛の通知本文（body）とリンク（link_url）を確認し、必要ならリンク先へ遷移する。
- 遷移元：
  - S-01-07（通知一覧）の行選択
- 遷移先：
  - link_url（通知が持つリンク先）へ遷移（本画面から実行）
  - 通知一覧へ戻る：S-01-07

## 2. 画面構成
- ヘッダー：あり（ロール別ヘッダー、共通部品定義に従う）
- メイン領域：
  - 通知ヘッダー情報（タイトル／受信日時／種別）
  - 本文（body）
  - アクション（リンクへ移動、一覧へ戻る）
- フッター：あり

## 3. 表示項目
- タイトル
- 受信日時（作成日時）
- 種別（type）
- 本文（body）
- 既読／未読（表示のみ）
- link_url（存在する場合のみ）
  - 表示名：例）関連ページへ移動
  - URL自体をそのまま見せるかは任意（基本はボタン化）

## 4. 操作
- 詳細表示（画面表示時）
  - 通知詳細を取得して表示する
- 自動既読（画面表示時）
  - 詳細画面遷移時に単体既読APIを呼び、既読にする（冪等）
- リンク先へ遷移（link_url）
  - link_url が存在する場合に表示
  - 押下：link_url の指す画面／外部URLへ遷移
- 一覧へ戻る
  - S-01-07へ遷移

## 5. 関連API
- 通知詳細
  - GET /api/v1/notification/notifications/{notification_id}
- 既読更新（単体）
  - PATCH /api/v1/notification/notifications/{notification_id}/read

## 6. 補足
- link_url の遷移は「通知一覧」では行わず、本画面（通知詳細）から行う。
- link_url が外部URLの場合は別タブ遷移などの扱いは実装側で決定する（基本設計では方式は固定しない）。
- 通知は「自分宛のみ」を前提とし、他ユーザーの通知IDを指定しても取得できない（403または404扱い）。
