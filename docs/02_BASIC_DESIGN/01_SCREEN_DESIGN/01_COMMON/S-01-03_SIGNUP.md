# S-01-03 新規登録

## 1. 概要
- 対象ロール：ALL
- 目的：メールアドレス入力→OTP認証→初期アカウント作成を行い、SenLinkを利用可能にする。
- 遷移元：
  - S-01-02（ログイン）から「新規登録」
- 遷移先：
  - OTP入力へ：S-01-04（OTP認証）
  - 登録完了後：
    - 初回設定へ：S-01-06（初回設定）
    - 登録完了＝ログイン済み扱いとし、S-01-06へ直行

## 2. 画面構成
- メイン領域：
  - メールアドレス入力
  - OTP送信ボタン
  - ログインへの戻りリンク
- フッター：あり
※ヘッダーは非表示（または、ロゴのみ）

## 3. 表示項目
- 入力項目
  - メールアドレス
- 表示文言（例）
  - 学校ドメイン制限がある場合の注意書き（例：＠○○.ac.jp のみ）
- リンク
  - ログインへ戻る（S-01-02）
- エラーメッセージ（概要レベルで可）
  - メールアドレス形式不正
  - ドメイン制限違反
  - 既に登録済み
  - OTP送信失敗
  - 学外アクセス（学内IP制限）：S-01-01へ

## 4. 操作
- OTP送信
  - メールアドレスを入力してOTP送信を実行
  - 成功時：S-01-04（OTP認証）へ遷移
- ログインへ戻る
  - S-01-02へ遷移

## 5. 関連API
- OTP送信（新規登録用）
  - POST /api/v1/auth/otp/send
- 新規登録（アカウント作成）
  - POST /api/v1/auth/signup
  - （運用代替）POST /api/v1/auth/register
- OTP検証（新規登録用）
  - POST /api/v1/auth/otp/verify
- 登録後の状態取得（初回設定判定／ロール判定）
  - GET /api/v1/auth/me

## 6. 補足
- 新規登録は「メールアドレス→OTP→登録確定」の順で実施する。
- S-01-03は「OTP送信」までを担い、OTP入力と検証はS-01-04で行う想定。
- signup/register成功時にCookie(HttpOnly)＋JWTを付与し、S-01-06へ遷移する
