# S-01-06 初回設定

## 1. 概要
- 対象ロール：ALL（ログイン済み前提）
- 目的：初回ログイン時に必須プロフィールを登録し、利用開始状態にする（学生／教員）。
- 遷移元：
  - S-01-02（ログイン）成功後、初回設定未完了の場合
  - S-01-03（新規登録）完了後
- 遷移先：
  - 初回設定完了後：各ロールのホームへ
    - Student → S-02-01
    - Teacher → S-03-01
    - Admin → S-04-01

## 2. 画面構成
- メイン領域：
  - アカウント情報の確認（メールアドレス等）
  - ロール表示（学生／教員／管理者）
  - 必須プロフィール入力フォーム（ロールに応じて表示切替）
  - 完了ボタン
- フッター：あり
※ヘッダーは非表示（または、ロゴのみ）

## 3. 表示項目
- 共通
  - メールアドレス（参照）
  - ロール（参照）
- 学生（初回プロフィール登録：入力）
  - 学科（選択）
  - クラス（選択）
  - 学籍番号
  - 氏名
  - 氏名（かな）
  - 生年月日
  - 性別
  - 入学年度
- 教員／管理者（初回プロフィール登録：入力）
  - 氏名
  - 氏名（かな）
  - 役職（任意）
  - オフィス（任意）
  - プロフィール補足（任意）
- エラーメッセージ（概要レベルで可）
  - 必須項目未入力
  - 入力形式不正
  - 既に初回プロフィール作成済み（重複登録）
  - 学外アクセス（学内IP制限）：S-01-01へ
  - セッション無効：S-01-02へ

## 4. 操作
- 初回設定の完了（保存）
  - 入力内容を送信し、初回プロフィールを作成する
  - 成功時：各ロールのホームへ遷移
- ログアウト（任意）
  - 初回設定を中断する場合の導線（必要なら表示）

## 5. 関連API
- セッション確認（アカウント概要／ロール確認）
  - GET /api/v1/auth/me

- 学科一覧取得（学生：選択肢）
  - GET /api/v1/school/departments
- クラス一覧取得（学生：選択肢）
  - GET /api/v1/school/classes

- 初回プロフィール登録（学生）
  - POST /api/v1/school/onboarding/student-profile
- 初回プロフィール登録（教員／管理者）
  - POST /api/v1/school/onboarding/teacher-profile

## 6. 補足
- 本画面は「初回プロフィール作成（POST）」のみを扱う。以後の編集は各プロフィール画面で行う。
  - 学生プロフィール編集：S-02-13（PATCH系）
  - 教員プロフィール編集：S-03-09（PATCH系）
- 管理者は「教員ロールも持つ前提」のため、初回プロフィール登録は教員と同一APIを使用する。
- クラス選択の絞り込み（年度／学科など）は、クラス一覧取得APIのクエリで実施する想定。
