# 画面基本設計：SenLink（センリンク）

## 1. 画面設計方針（共通）
- 画面IDは `S-XX-YY` 形式（例：S-01-01）
- URL（ルーティング）は Next.js App Router を前提に `/student/...` `/teacher/...` `/admin/...` に分ける
- 権限外アクセスは原則 **404**（存在しない扱い）
- 学内プライベートIP以外は、アプリ起動時点で「アクセス不可」画面へ誘導（ログイン前でも表示）

## 2. 画面一覧
※参考ドキュメント：<br/>
`docs\02_REQUIREMENTS\02_FUNCTIONS`<br/>
`docs\02_REQUIREMENTS\03_SCREENS`

### 2.1 共通（S-01-XX）

| 画面ID | 画面名 | 対象ロール | 概要 | 関連機能 |
|---|---|---|---|---|
| S-01-01 | アクセス不可 | ALL | 学内IP外からアクセスした場合の案内 | 運用制約 |
| S-01-02 | ログイン | ALL | ログイン（メール/パスワード or OTP） | F-01-01 |
| S-01-03 | 新規登録 | ALL | メール入力→OTP→登録 | F-01-01 |
| S-01-04 | OTP認証 | ALL | OTP入力 | F-01-01 |
| S-01-05 | パスワード再設定 | ALL | OTP→再設定 | F-01-01 |
| S-01-06 | 初回設定 | ALL | ロール判定＋初期プロフィール必須入力 | F-01-02 |
| S-01-07 | 通知一覧 | ALL | 通知一覧/既読 | F-01-03 |
| S-01-08 | 通知詳細 | ALL | 通知詳細表示 | F-01-03 |
| S-01-09 | エラー（404/403） | ALL | 権限外/存在しない場合 | 共通 |

### 2.2 学生（S-02-XX）

| 画面ID | 画面名 | 対象ロール | 概要 | 関連機能 |
|---|---|---|---|---|
| S-02-01 | 学生ホーム（ダッシュボード） | Student | 今日のToDo/期限/応募状況サマリ | F-02-02 |
| S-02-02 | 求人検索/一覧 | Student | 条件検索・並び替え・公開範囲フィルタ適用 | F-02-01 |
| S-02-03 | 求人詳細 | Student | 求人詳細・応募・お気に入り | F-02-01 |
| S-02-04 | お気に入り求人 | Student | お気に入り一覧 | F-02-01 |
| S-02-05 | 応募一覧 | Student | 応募（参加前/参加済/辞退）一覧 | F-02-02 |
| S-02-06 | 応募詳細 | Student | 応募詳細・状態更新・関連ToDo表示 | F-02-02 |
| S-02-07 | ToDo一覧 | Student | ToDo一覧・期限・状態更新 | F-02-02 |
| S-02-08 | ToDo詳細 | Student | ToDo詳細・完了 | F-02-02 |
| S-02-09 | 申請一覧 | Student | 申請（下書き/申請中/承認/差し戻し） | F-02-03 |
| S-02-10 | 申請作成（種別選択） | Student | 添削/面談予約/内定（新規/訂正/取消） | F-02-03 |
| S-02-11 | 申請編集（下書き/差し戻し） | Student | 内容編集→申請中へ送信 | F-02-03 |
| S-02-12 | 申請詳細 | Student | 詳細・コメント履歴・状態表示 | F-02-03 |
| S-02-13 | 学生プロフィール | Student | 自分のプロフィール編集 | F-02-04 |

### 2.3 教員（S-03-XX）

| 画面ID | 画面名 | 対象ロール | 概要 | 関連機能 |
|---|---|---|---|---|
| S-03-01 | 教員ホーム（ダッシュボード） | Teacher | 担当クラスKPI・支援が必要な学生 | F-03-01 |
| S-03-02 | 学生一覧（担当クラス） | Teacher | 担当クラスの学生のみ | F-03-02 |
| S-03-03 | 学生詳細 | Teacher | 活動履歴/応募/ToDo/申請 | F-03-02 |
| S-03-04 | 申請一覧（担当クラス） | Teacher | 申請中/差し戻し/承認一覧 | F-03-03 |
| S-03-05 | 申請詳細（承認/差し戻し） | Teacher | コメント入力・承認/差し戻し | F-03-03 |
| S-03-06 | 求人一覧（管理） | Teacher | 求人登録/編集/公開範囲設定 | F-03-04 |
| S-03-07 | 求人作成/編集 | Teacher | 求人の登録・更新 | F-03-04 |
| S-03-08 | レコメンド送信 | Teacher | 個別公開の対象学生設定 | F-03-04 |
| S-03-09 | 教員プロフィール | Teacher | 自分の公開情報編集 | F-03-05 |

### 2.4 管理者（S-04-XX）

| 画面ID | 画面名 | 対象ロール | 概要 | 関連機能 |
|---|---|---|---|---|
| S-04-01 | 管理者ホーム | Admin | 管理メニュー導線 | F-04-XX |
| S-04-02 | 権限管理 | Admin | 教員発行/管理者付与剥奪 | F-04-01 |
| S-04-03 | クラス管理 | Admin | 学科/クラスCRUD | F-04-02 |
| S-04-04 | マスタ管理 | Admin | マスタCRUD | F-04-03 |
| S-04-05 | 設定管理 | Admin | 許可IP帯など設定変更 | F-04-04 |
| S-04-06 | システム監視 | Admin | ログ/稼働状況 | F-04-05 |

---

## 3. 画面遷移

```mermaid
flowchart TD
  %% Common
  A[S-01-01 アクセス不可] -->|学内IP| B[S-01-02 ログイン]
  B --> C[S-01-03 新規登録]
  C --> D[S-01-04 OTP認証]
  D --> E[S-01-06 初回設定]
  B --> E
  B -->|ログイン成功| R{ロール判定}

  %% Role routing
  R -->|Student| SH[S-02-01 学生ホーム]
  R -->|Teacher| TH[S-03-01 教員ホーム]
  R -->|Admin| AH[S-04-01 管理者ホーム]

  %% Student flows
  SH --> SJ[S-02-02 求人検索/一覧]
  SJ --> SD[S-02-03 求人詳細]
  SD --> SA[S-02-06 応募詳細]
  SH --> ST[S-02-07 ToDo一覧]
  SH --> SR[S-02-09 申請一覧]
  SR --> SC[S-02-10 申請作成]
  SR --> SDD[S-02-12 申請詳細]
  SDD --> SE[S-02-11 申請編集]

  %% Teacher flows
  TH --> TL[S-03-02 学生一覧]
  TL --> TD1[S-03-03 学生詳細]
  TH --> TR[S-03-04 申請一覧]
  TR --> TRD[S-03-05 申請詳細]
  TH --> TJ[S-03-06 求人一覧]
  TJ --> TJE[S-03-07 求人作成/編集]

  %% Admin flows
  AH --> AM[S-04-02 権限管理]
  AH --> AC[S-04-03 クラス管理]
  AH --> AD[S-04-04 マスタ管理]
  AH --> AS[S-04-05 設定管理]
